<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="..\github.css" type="text/css" />
</head>
<body>
<p>Please read following information before using Personium.</p>
<h2 id="https-is-a-must">HTTPS is a MUST</h2>
<p>Use of HTTPS is a MUST for a production use. Most of Personium unit API's are protected<br />
by its access control mechanism. They should be accessed with a OAuth 2.0 Bearer token.</p>
<p>Use of HTTP exposes the token to attackers who try to steal and use it for spoofing.</p>
<p>See <a href="https://tools.ietf.org/html/rfc6750" class="uri">https://tools.ietf.org/html/rfc6750</a></p>
<h2 id="unit-master-token-unit-user-token">Unit Master Token / Unit User Token</h2>
<p>Unit Master Token and Unit User Token are tokens with special privilage.<br />
You can execute all api operation with them. (ACL settings will be ignored)<br />
So, you need special care using these tokens.</p>
<p>Especially, Unit Master Token is dangerous. It is designed for use in<br />
evaluation, development or testing phase only. Do not forget to disable it for<br />
production use.</p>
<h2 id="status-api">Status API</h2>
<p>This endpoint is designed for administrative access from internal network.<br />
(no authentication /access control) so should be hidden with reverse proxy.</p>
<p>Below are configuration example for nginx</p>
<pre><code>        location ~ ^/__status/?$ {
            deny all;
}</code></pre>
<h2 id="domain-and-url">Domain and URL</h2>
<h3 id="transefer-original-request-url-and-uri-scheme">Transefer original request URL and uri scheme</h3>
<p>In case using a reverce proxy, please make sure that it passes Personium's original host header and URL scheme.</p>
<p>Below are configuration example for nginx</p>
<pre><code>            proxy_set_header Host $http_host;
            proxy_set_header X-Forwarded-Proto http;</code></pre>
<h3 id="keep-domain-name">Keep domain name</h3>
<p>Because of its distributed architecture, Personium stores URL information including domain name.<br />
Please keep domain name after you start using Personium.</p>
<p>Use of unitlocal: scheme is recommended for future FQDN change of units.</p>
<h3 id="personium-unit-url">Personium Unit URL</h3>
<p>Please make sure that Personium unit URL is &quot;<a href="https://%7Bdomainname%7D/" class="uri">https://{domainname}/</a>&quot;.<br />
(not &quot;<a href="https:/%7Bdomainname%7D/%7Bsubdir%7D/" class="uri">https:/{domainname}/{subdir}/</a>&quot;)</p>
<p>When you need to deploy personium-core to sub-directory of the application server,<br />
you need to rewrite URL using reverse proxy.</p>
<h2 id="personium-engine-deployment">personium-engine deployment</h2>
<p>You can deploy personium-engine on same server with personium-core, or different server.<br />
For either case, please make sure that</p>
<ul>
<li>personium-core can send http request to personium-engine server</li>
<li>personium-engine can resolve domainname and send http request to the endpoint of the Personium with domain name.</li>
</ul>
</body>
</html>
